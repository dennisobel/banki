{"version":3,"sources":["../../src/pages/loan-eligibility/loan-eligibility.module.ts","../../src/pages/loan-eligibility/loan-eligibility.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACS;AAUzD,IAAa,yBAAyB;IAAtC;IAAwC,CAAC;IAAD,gCAAC;AAAD,CAAC;AAA5B,yBAAyB;IARrC,+DAAQ,CAAC;QACR,YAAY,EAAE;YACZ,8EAAmB;SACpB;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,8EAAmB,CAAC;SAC9C;KACF,CAAC;GACW,yBAAyB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;ACZI;AAQD;AACsB;AACzB;AACG;AAEW;AAQpD,IAAa,mBAAmB;IAG9B,6BACU,SAA0B,EAC1B,QAAwB,EACxB,SAA0B,EAC1B,OAAsB,EACtB,SAA0B,EAC1B,SAAoB,EACpB,YAA4B,EAC5B,MAAc,EACd,OAAgB;QARhB,cAAS,GAAT,SAAS,CAAiB;QAC1B,aAAQ,GAAR,QAAQ,CAAgB;QACxB,cAAS,GAAT,SAAS,CAAiB;QAC1B,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAiB;QAC1B,cAAS,GAAT,SAAS,CAAW;QACpB,iBAAY,GAAZ,YAAY,CAAgB;QAC5B,WAAM,GAAN,MAAM,CAAQ;QACd,YAAO,GAAP,OAAO,CAAS;IAG1B,CAAC;IAED,4CAAc,GAAd;QAAA,iBAgDC;QA/CC,IAAI,CAAC,YAAY,CAAC,mCAAmC,EAAC,IAAI,EAAC,QAAQ,CAAC;QACpE,IAAI,UAAU,GAAO,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAChD,IAAI,GAAG,GAAO,UAAU,CAAC,YAAY,CAAC,CAAC;QAEvC,qBAAqB;QACrB,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;YAC1C,KAAI,CAAC,MAAM,CAAC,EAAE,CAAC,uBAAuB,EAAC,UAAC,IAAI;gBAC1C,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC;gBAE/B,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,OAAO,EAAC,MAAM;oBAChC,OAAO;oBACL,+CAA+C;oBAC/C,4BAA4B;oBAC5B,KAAI,CAAC,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,QAAO,CAAC,MAAM,CAAC,UAAC,EAAM;wBAC1D,MAAM,CAAC,CAAC,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,QAAQ,CAAC,MAAM,CAAC;oBAClD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CACjB;gBACH,CAAC,CAAC,CAAC,IAAI,CAAC,UAAC,IAAI;oBACX,IAAI,KAAK,GAAG,UAAU,CAAC;oBACvB,+DAA+D;oBAC/D,KAAI,CAAC,eAAe,GAAG,KAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,UAAC,EAAE;wBACjE,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;oBACxC,CAAC,CAAC;oBAEF,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,KAAI,CAAC,eAAe,CAAC,CAAC;oBACjD,cAAc;oBACd;;;;;sBAKE;oBACF;;;;;;;;;sBASE;gBAGJ,CAAC,CAAC;YACJ,CAAC,CAAC;QACJ,CAAC,CAAC;IACJ,CAAC;IAED,0CAAY,GAAZ,UAAa,OAAO,EAAC,KAAK,EAAC,QAAQ;QACjC,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAChC,OAAO,EAAE,OAAO;YAChB,kBAAkB;YAClB,eAAe,EAAC,KAAK;YACrB,QAAQ,EAAE,QAAQ;SACnB,CAAC,CAAC;QAEH,KAAK,CAAC,YAAY,CAAC;YACjB,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QACjC,CAAC,CAAC,CAAC;QAEH,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IAED,yCAAW,GAAX,UAAY,IAAI;QAAhB,iBAuBC;QAtBC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC;QACjB,IAAI,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YACrC,KAAK,EAAK,IAAI,CAAC,CAAC,CAAC,iBAAc;YAC/B,OAAO,EAAC,WAAS,IAAI,CAAC,CAAC,CAAG;YAC1B,OAAO,EAAC;gBACN;oBACE,IAAI,EAAE,OAAO;oBACb,OAAO,EAAE;wBACP,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAC,IAAI,CAAC;wBAClC,mEAAmE;wBACnE,IAAI,QAAQ,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC,wEAAY,EAAC,EAAC,QAAQ,EAAC,IAAI,EAAC,CAAC;wBAClE,QAAQ,CAAC,OAAO,EAAE;oBACpB,CAAC;iBACF;gBACD;oBACE,IAAI,EAAE,QAAQ;oBACd,IAAI,EAAE,QAAQ;iBACf;aACF;SACF,CAAC;QAEF,UAAU,CAAC,OAAO,EAAE,CAAC;IACvB,CAAC;IAGD,oCAAM,GAAN;QACE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;IACtC,CAAC;IAED,qCAAO,GAAP;QACE,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE;IACzB,CAAC;IAEH,0BAAC;AAAD,CAAC;AApHY,mBAAmB;IAN/B,wEAAS,EAAE;IACX,gEAAS,CAAC;QACT,QAAQ,EAAE,uBAAuB;OACG;KACrC,CAAC;8EAMoC;QAChB,sEAAc;QACb,qEAAe;QACjB,sEAAa;QACX,iEAAe;QACf,gFAAS;QACN,oDAAM,CAAQ;QACpB,+DAAM;QACL,OAAO;AAwG3B;EApH+B;AAuHhC;;;;;;;;;;;;;;;;;;;;;;;;;EAyBE,0C","file":"22.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LoanEligibilityPage } from './loan-eligibility';\n\n@NgModule({\n  declarations: [\n    LoanEligibilityPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LoanEligibilityPage),\n  ],\n})\nexport class LoanEligibilityPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/loan-eligibility/loan-eligibility.module.ts","import { Component } from '@angular/core';\nimport { \n  IonicPage,\n  ViewController,\n  NavController, \n  AlertController, \n  ModalController,\n  NavParams,\n  ToastController } from 'ionic-angular';\nimport { SocketProvider } from \"../../providers/socket/socket\";\nimport { Socket } from 'ng-socket-io';\nimport { Storage } from '@ionic/storage';\nimport { resolve } from 'dns';\nimport { LoanformPage } from '../loanform/loanform';\n\n@IonicPage() \n@Component({\n  selector: 'page-loan-eligibility',\n  templateUrl: 'loan-eligibility.html',\n})\n\nexport class LoanEligibilityPage {\n  private loanEligibility:any;\n\n  constructor(\n    private modalCtrl: ModalController,\n    private viewCtrl: ViewController,\n    private toastCtrl: ToastController,\n    private navCtrl: NavController, \n    private alertCtrl: AlertController,\n    private navParams: NavParams,\n    private socketHelper: SocketProvider,\n    private socket: Socket,\n    private storage: Storage) {\n\n\n  }\n\n  ionViewDidLoad() {\n    this.presentToast('Click loan item to apply for loan',true,'middle')\n    let memberData:any = this.navParams.get('data');\n    let mno:any = memberData['MB.CUST.NO'];\n\n    // GET LOAN ELIG DATA\n    this.socketHelper.loanEligibility(mno).then(() => {\n      this.socket.on('loanEligibilityResult',(data) => {\n        console.log(\"LOAN ELIG:\", data)\n\n        return new Promise((resolve,reject) => {\n          resolve(\n            // this.dataSplitByComma = data.data.split(\",\")\n            // .split(':')[5].split('.')\n            this.loanEligibility = data.split('\"')/*[5]*/.filter((el:any) => {\n              return !el.includes('VR') && el.includes('Loan')\n            })[0].split(':')\n          )\n        }).then((data) => {\n          let regex = /\\,(?=\\D)/;\n          // this.loanEligibility = this.loanEligibility[1].split(regex);\n          this.loanEligibility = this.loanEligibility[1].split(regex).map((el)=>{\n            return Object.assign({},el.split(\"=\"))\n          })\n\n          console.log(\"LOAN ELIG: \", this.loanEligibility);\n          // .split('=')\n          /*\n          let stringWithoutSpaces = this.loanEligibility.trim()\n          console.log(stringWithoutSpaces)\n          let dictionaryWithValues = stringWithoutSpaces.split('0')\n          console.log(dictionaryWithValues)\n          */\n          /*\n          \n          this.loanEligibility.forEach((el:any) => {\n            if(el[0].length <= 1) {\n              this.loanEligibility.splice(this.loanEligibility.indexOf(el),1)\n            }else {\n              \n            }\n          })\n          */\n\n          \n        })\n      })\n    })    \n  }\n\n  presentToast(message,close,position) {\n    let toast = this.toastCtrl.create({\n      message: message,\n      // duration: 3000,\n      showCloseButton:close,\n      position: position\n    });\n  \n    toast.onDidDismiss(() => {\n      console.log('Dismissed toast');\n    });\n  \n    toast.present();\n  }  \n \n  handleApply(data){\n    console.log(data)\n    let applyAlert = this.alertCtrl.create({\n      title: `${data[0]} application`,\n      message:`Apply ${data[0]}`,\n      buttons:[\n        {\n          text: 'Apply',\n          handler: () => {\n            console.log(\"LoanForm Data:\",data)\n            // this.presentToast(`Processing loan application`, true, 'middle')\n            let loanForm = this.modalCtrl.create(LoanformPage,{loanData:data})\n            loanForm.present()            \n          }\n        },\n        {\n          text: 'Cancel',\n          role: 'cancel'\n        }\n      ]\n    })\n\n    applyAlert.present();\n  }\n\n\n  logOut(){\n    this.navCtrl.setRoot('WelcomePage');\n  }  \n\n  onClose() {\n    this.viewCtrl.dismiss()\n  }\n\n}\n\n\n/*\n\n      this.socket.on('loanEligibilityResult',(data)=>{\n        console.log(\"LOAN ELIG:\", data)\n\n        \n\n\n        let alert = this.alertCtrl.create({\n          title: 'ELIGIBLE FOR THE FOLLOWING LOANS',\n\n          message: data,\n\n          buttons:[\n            {\n              text:\"OK\",\n              role:'cancel'\n            }\n          ]\n\n\n        })\n\n        alert.present()\n      })\n*/\n\n\n// WEBPACK FOOTER //\n// ./src/pages/loan-eligibility/loan-eligibility.ts"],"sourceRoot":""}