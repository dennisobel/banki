{"version":3,"sources":["../../src/pages/personal-account/personal-account.module.ts","../../src/pages/personal-account/personal-account.ts"],"names":[],"mappings":"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","file":"14.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PersonalAccountPage } from './personal-account';\n\n@NgModule({\n  declarations: [\n    PersonalAccountPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PersonalAccountPage),\n  ],\n})\nexport class PersonalAccountPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/personal-account/personal-account.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController, ViewController } from 'ionic-angular';\nimport { Socket } from 'ng-socket-io';\nimport { SocketProvider } from \"../../providers/socket/socket\";\nimport { Storage } from '@ionic/storage';\nimport { resolve } from 'path';\nimport { IfObservable } from 'rxjs/observable/IfObservable';\nimport { ELEMENT_PROBE_PROVIDERS } from '@angular/platform-browser/src/dom/debug/ng_probe';\nimport { AccountDetailsPage } from '../account-details/account-details';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-personal-account',\n  templateUrl: 'personal-account.html',\n})\nexport class PersonalAccountPage {\n  private filtered:any;\n  private balEnqData:any;\n  private fosaArray:any[]=[];\n  private fosaBal:any;\n  private fosaAccNum:any;\n  private mainSavArray:any[]=[]\n  private mainSav:any;\n  private mainSavAccNum:any;\n  private accounts:any[]=[];\n  private balanceArray:any[]=[];\n  private commaRemoved:any[]=[];\n  private amount:any;\n  private mno:any;\n\n  constructor(\n    private viewCtrl: ViewController,\n    private toastCtrl: ToastController,\n    private navCtrl: NavController, \n    private navParams: NavParams,\n    private socketHelper: SocketProvider,\n    private storage: Storage,\n    private socket: Socket) {\n  }\n\n  ionViewDidLoad(){\n    this.presentToast()\n    // Fetch Member Data\n    let memberData:any = this.navParams.get('data');\n    this.mno = memberData['MB.CUST.NO'];\n    console.log(\"PERSONAL ACCOUNTS MEMBER DATA: \",memberData);\n\n    // GET MEMBER ACCOUNTS\n    // this.socketHelper.getAccounts(mno)\n\n    // GET ACCOUNT BALANCES\n    this.socketHelper.balanceEnq(this.mno).then(() => {\n      this.socket.on('balEnqData',(data:any) => {   \n        \n        if(data.data.length > 0) {\n          return new Promise((resolve,reject) => {\n            resolve(\n              this.balanceArray = data.data.filter((el:any) => {\n                return !el.includes('VR')\n              }).map((el:any)=>{\n                  return Object.assign({},el.split(\";\"))\n              })\n            );                   \n          })\n          .then(() => {\n            this.balanceArray.shift()           \n          })\n          .then((data)=>{\n            console.log(\"DATA:\",this.balanceArray) \n            this.filtered = this.balanceArray.filter((el) => {\n              return el[3] > 0;\n            })\n\n            console.log(\"FILTERED ARRAY:\",this.filtered);\n\n            this.balanceArray.forEach((el:any) => {\n              if(el[0].length <= 1) {\n                this.balanceArray.splice(this.balanceArray.indexOf(el),1)\n              }else {\n                \n              }\n              \n            })\n            \n\n            // console.log(this.balanceArray[0])\n\n            // console.log(this.balanceArray[0][0])\n            \n            // console.log('BAL ARRAY: ',this.balanceArray);\n            \n            // this.amount = this.balanceArray[this.balanceArray.length-1][3].substr(0,substrLoc2);\n          })\n        }\n\n    \n\n        \n\n        // PROCESS STRING this.balEnqData \n        console.log('BAL ARRAY: ',this.balanceArray);\n      })\n    })\n  }\n\n\n// AccountDetailsPage\n  \n  // goTo Function \n  goTo(item){\n    this.navCtrl.push(AccountDetailsPage,{data:{details:item,mno:this.mno}});\n  } \n\n    // logOut Function \n  logOut(){\n    this.navCtrl.setRoot('WelcomePage');\n  }\n\n  remove_character(str_to_remove, str) {\n    let reg = new RegExp(str_to_remove)\n    return str.replace(reg, '')\n  }\n\n  presentToast() {\n    let toast = this.toastCtrl.create({\n      message: 'Click item to view more details...',\n      // duration: 3000,\n      showCloseButton:true,\n      position: 'middle'\n    });\n  \n    toast.onDidDismiss(() => {\n      console.log('Dismissed toast');\n    });\n  \n    toast.present();\n  }  \n\n  onClose() {\n    this.viewCtrl.dismiss()\n  }\n}\n\n\n    // Fetch member data\n    /*\n    this.storage.get('memberData').then((data) => {\n      console.log('MEMBER DATA: ', data);\n      this.socketHelper.balanceEnq(data)\n    })\n    console.log(\"personal accs page loaded\")\n    */\n    // this.socketHelper.balanceEnq()\n    // this.socketHelper.balanceEnq(this.navParams.get('data'))\n\n    /*\n    this.socket.on('balEnqData',(data)=>{\n      console.log(\"balEnqData:\",data)\n      this.fosaArray = data.data[0]\n      this.fosaBal = this.fosaArray[Object.keys(this.fosaArray)[3]]\n      this.fosaAccNum = this.fosaArray[Object.keys(this.fosaArray)[2]]\n      this.mainSavArray = data.data[1]\n      this.mainSav = this.mainSavArray[Object.keys(this.mainSavArray)[3]]\n      this.mainSavAccNum = this.mainSavArray[Object.keys(this.mainSavArray)[2]]\n      console.log(\"FOSA\",this.fosaBal)\n      console.log(\"MAIN\",this.mainSav)\n      console.log(\"FOSA NUM\",this.fosaAccNum)\n      console.log(\"MAIN ACC NUM\",this.mainSavAccNum)\n\n      this.accounts=[\n        {\n          name:'FOSA',\n          accNumber:this.fosaAccNum,\n          currency:this.fosaBal\n        },\n        {\n          name:'MAIN',\n          accNumber:this.mainSavAccNum,\n          currency:this.mainSav\n        }\n      ]\n    })\n    */\n\n\n// WEBPACK FOOTER //\n// ./src/pages/personal-account/personal-account.ts"],"sourceRoot":""}