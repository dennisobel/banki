{"version":3,"sources":["../../src/pages/sign-in/sign-in.module.ts","../../src/pages/summary/summary.ts","../../src/pages/sign-in/sign-in.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SignInPage } from './sign-in';\n\n@NgModule({\n  declarations: [\n    SignInPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SignInPage),\n  ],\n})\nexport class SignInPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/sign-in/sign-in.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\n// import { T24Provider } from \"../../providers/t24/t24\";\nimport { SocketProvider } from \"../../providers/socket/socket\";\nimport { Socket } from 'ng-socket-io';\nimport { Storage } from '@ionic/storage';\nimport { HttpProvider } from \"../../providers/http/http\";\n\n@IonicPage()\n@Component({\n  selector: 'page-summary',\n  templateUrl: 'summary.html',\n})\n\nexport class SummaryPage {\n  private fosaArray:any[]=[];\n  private fosaBal:any;\n  private name:any;\n  private mainSavArray:any[]=[]\n  private mainSav:any;\n\n  private fosarange=30;\n  private mainsavrange=70;\n\n\tconstructor(\n    private navCtrl: NavController,\n    private socketHelper: SocketProvider,\n    private http: HttpProvider,\n    private socket: Socket,\n    private storage: Storage,\n    // private t24: T24Provider,\n    private navParams: NavParams){\n\n      \n  }\n \n  ionViewDidLoad(){\n    console.log(\"reached summary\")\n    this.socket.on('connect',()=>{\n    \tvar sessionid = this.socket.ioSocket.id;\n      // console.log(\"socket id is: \",sessionid)    \n    })\n        \n    this.storage.get('loginData').then(data=>{\n      console.log(\"LOGIN DATA:\",data)\n      // console.log(\"NAV PARAMS DATA:\",this.navParams.get('data'))\n\n      let loginData:any;\n\n      \n      this.socketHelper.balanceEnq(data)\n      // this.socketHelper.balanceEnq(this.navParams.get('data')||data).then(()=>{\n      //   this.storage.set('access',this.navParams.get('data'))\n      // })\n      \n    })\n\n         \n\n    // this.socket.emit(\"balanceEnq\",{data:\"james\"})\n    // this.socketHelper.balanceEnq(this.navParams.get('data'))\n    // this.socketHelper.balanceEnq(this.loginData)\n    // this.t24.balanceEnquiry()\n    \n      this.socket.on('balEnqData',(data)=>{\n        console.log(\"balEnqData:\",data)\n        \n        this.fosaArray = data.data[0]\n        \n        this.fosaBal = this.fosaArray[Object.keys(this.fosaArray)[3]]\n        this.mainSavArray = data.data[1]\n        this.mainSav = this.mainSavArray[Object.keys(this.mainSavArray)[3]]\n        this.name = this.mainSavArray[Object.keys(this.mainSavArray)[1]]\n        console.log(this.fosaBal/(this.fosaBal+this.mainSav))\n        this.fosarange = (this.fosaBal/(this.fosaBal+this.mainSav))*(100)\n        this.mainsavrange = (this.mainSav/(this.fosaBal+this.mainSav))*(100)\n\n        console.log(\"FOSA RANGE:\",this.fosarange)\n      })\n\n  }\n\n  // goTo Function \n  goTo(page){\n    this.navCtrl.setRoot(page,{data:this.navParams.get('data')});\n  }\n  // logOut Function \n  logOut(){\n    this.navCtrl.setRoot('WelcomePage');\n  }\n} \n\n/*You hang around the barber shop long enough, soon enough you\nwill get a hair cut\n\nTo get something you never had, you have to do something you never did*/\n\n\n// WEBPACK FOOTER //\n// ./src/pages/summary/summary.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController, AlertController, LoadingController } from 'ionic-angular';\n\nimport { HttpProvider } from \"../../providers/http/http\";\nimport {SummaryPage} from \"../summary/summary\"\n\n@IonicPage()\n@Component({\n  selector: 'page-sign-in',\n  templateUrl: 'sign-in.html',\n})\nexport class SignInPage {\n  private password:any;\n  private membernumber:any;\n  private loading: any;\n\n\tconstructor(\n    private navCtrl: NavController,\n    private modalCtrl: ModalController,\n    private alertCtrl: AlertController, \n    private loadingCtrl: LoadingController, \n    private http: HttpProvider,\n    private navParams: NavParams) {\n  }\n  \n\n  ionViewDidLoad(){\n    this.showLoader()\n    //Check if already authenticated\n    \n    this.http.checkAuthentication()\n    .then((res)=>{\n      console.log(\"already authorized\")\n      this.loading.dismiss();\n      this.navCtrl.setRoot(SummaryPage)\n    },(err)=>{\n      this.loading.dismiss()\n      let alert = this.alertCtrl.create({\n        title:\"CONNECTION ERROR\",\n        message:\"Check internet connection and retry.\",\n        buttons:[\n          {\n            text:'Ok',\n            role:'cancel',\n            handler:() => {\n              console.log('Cancel clicked');\n            }          \n          },\n          \n        ]        \n      })\n\n      // alert.present()\n    })\n    .catch((err)=>{\n      console.log(err)\n      this.loading.dismiss()\n      let alert = this.alertCtrl.create({\n        title:\"CONNECTION ERROR\",\n        message:\"Check internet connection and retry.\",\n        buttons:[\n          {\n            text:'Ok',\n            role:'cancel',\n            handler:() => {\n              console.log('Cancel clicked');\n            }          \n          },\n          \n        ]        \n      })\n\n      // alert.present()      \n    })\n    \n  }\n\n  showLoader(){ \n    this.loading = this.loadingCtrl.create({\n        content: 'Authenticating...'\n        \n    });\n    this.loading.present();\n  } \n\n  doLogin(page) {\n    console.log(\"Inside Login...\")\n    \n    \n    let data = {\n      passcode:this.password,\n      membernumber:this.membernumber\n    }\n\n    this.http.login(data).then((val:any)=>{\n      console.log(\"Login Values: \",val)\n      this.loading.dismiss()\n      if(val.success === true){\n        this.navCtrl.setRoot(page,{data:data});\n      }\n    })\n    \n  }\n\n\n  // Call Forgot Password Modal\n  presentModal(modalPage) {\n    let modal = this.modalCtrl.create(modalPage);\n    modal.present(); \n  }\n\n  doUnlock(page){\n    let modal = this.modalCtrl.create(page)\n    modal.present()\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/sign-in/sign-in.ts"],"sourceRoot":""}